# Журнал изменений (Changelog)

Этот документ отслеживает все изменения в проекте "Хроники Вечной Войны".

## Система версий
Версия имеет формат `ГЛОБАЛЬНАЯ.ЭТАП.ШАГ.ИСПРАВЛЕНИЕ`:
- **ГЛОБАЛЬНАЯ:** `0` до завершения всех этапов.
- **ЭТАП:** Номер текущего этапа разработки из `technical_plan.md`.
- **ШАГ:** Номер шага внутри этапа.
- **ИСПРАВЛЕНИЕ:** Инкремент для исправлений или итераций в рамках одного шага.

---
## История версий

### **v0.2.4.0** - (текущая)
- **Ревизия:** Завершен **Этап 2**. Проведена полная ревизия кода и документов. Все известные проблемы с камерой, производительностью и рендерингом устранены. Проект готов к **Этапу 3**.
- **Файлы:** `changelog.md`, `technical_plan.md`, `implementation_checklist.md`

### **v0.2.3.6**
- **Настройка:** Отрегулирован `min_zoom` для корректного вписывания карты в экран при максимальном отдалении, решая проблему "слишком сильного" отдаления.
- **Файлы:** `camera.py`

### **v0.2.3.5**
- **Исправление (Архитектура):** Реализовано финальное архитектурное решение для камеры. Вся логика границ (`_clamp`) перемещена внутрь класса `Camera`, который теперь сам отвечает за свое состояние. Это решило проблему выхода за границы при масштабировании.
- **Файлы:** `camera.py`, `game.py`

### **v0.2.3.4**
- **Исправление (Управление):** Добавлена поддержка Numpad-клавиш `+` и `-` для масштабирования.
- **Файлы:** `game.py`

### **v0.2.3.3**
- **Исправление (Плавность и Зум):** Переработан `Camera` для реализации "зума к центру" и устранения "дрожания" при движении за счет округления финальных координат в `Renderer`.
- **Файлы:** `camera.py`, `renderer.py`

### **v0.2.3.2**
- **Исправление (Координаты):** Полностью переработан `Renderer` с введением `TILE_SIZE` для создания системы мировых координат. Это была первая попытка исправить фундаментальную ошибку в логике камеры.
- **Файлы:** `renderer.py`, `camera.py`, `game.py`

### **v0.2.3.1**
- **Исправление (Производительность):** В `Renderer` добавлен `culling` (отрисовка только видимых тайлов) для решения проблемы с падением FPS при движении.
- **Файлы:** `renderer.py`

### **v0.2.3.0**
- **Реализация:** Добавлена базовая камера с перемещением и масштабированием. (Изначально содержала множество багов: падение FPS, некорректная отрисовка, нелогичное масштабирование и выход за границы мира).
- **Файлы:** `camera.py`, `game.py`, `renderer.py`

### **v0.2.2.4**
- **Изменение:** Возврат к окну 1280x720 с отрисовкой карты в центральном квадрате 720x720 для сохранения пропорций.
- **Файлы:** `game.py`, `renderer.py`

### **v0.2.2.3**
- **Изменение:** Переход на полноэкранный режим по запросу.
- **Файлы:** `game.py`

### **v0.2.2.2**
- **Изменение:** Изменение окна на квадратное (800x800) для улучшения вида карты.
- **Файлы:** `game.py`

### **v0.2.2.1**
- **Исправление:** Устранена проблема с "рваной" сеткой при отрисовке карты за счет более точного расчета координат тайлов.
- **Файлы:** `renderer.py`

### **v0.2.2.0**
- **Реализация:** Добавлена визуализация карты. `Renderer` теперь отрисовывает тайлы из `world.map_data` цветными прямоугольниками.
- **Файлы:** `renderer.py`

### **v0.2.1.1**
- **Исправление:** Класс `Tile` расширен и теперь включает все поля, требуемые TDD (видимость, мораль, припасы и т.д.), чтобы избежать рефакторинга в будущем.
- **Файлы:** `tile.py`

### **v0.2.1.0**
- **Реализация:** Добавлена процедурная генерация карты. Создан класс `Tile` и генератор `generate_map`, который создает мир из земли и воды. Карта генерируется при старте игры.
- **Файлы:** `tile.py`, `map_generator.py`, `game.py`

---
### **v0.1.5.0**
- **Реализация:** Завершен архитектурный каркас. Создан класс `Renderer` для отделения логики отрисовки.
- **Файлы:** `renderer.py`, `game.py`

### **v0.1.4.0**
- **Реализация:** Созданы базовые классы-заглушки для всех игровых сущностей (`Unit`, `Army`, `Faction`, `GameWorld`).
- **Файлы:** `unit.py`, `army.py`, `faction.py`, `world.py`

### **v0.1.2.0**
- **Реализация:** Проведен рефакторинг. Логика игрового цикла вынесена из `main.py` в отдельный класс `Game`.
- **Файлы:** `game.py`, `main.py`

### **v0.1.1.0**
- **Реализация:** Настроена базовая структура проекта: созданы папки и точка входа `main.py` с инициализацией `Pygame`.
- **Файлы:** `main.py` 